
<form name="frmUserDetails">
    <div class="row">
        <input type="hidden" id="mdlGUID" name="mdlGUID" value="@Model.User.guid" />
        <div class="col-lg-6">
            <label for="FirstName" class="form-label">First Name</label>
            <input type="text" class="form-control" id="mdlFirstName" value="@Model.User.firstName" disabled />
        </div>
        <div class="col-lg-6">
            <label for="LastName" class="form-label">Last Name </label>
            <input type="text" class="form-control" id="mdlLastName" name="mdlLastName" value="@Model.User.lastName" disabled />
        </div>
        <div class="col-lg-6">
            <label for="EmailAddress" class="form-label">Email Address </label>
            <input type="text" class="form-control" id="mdlEmailAddress" value="@Model.User.emailAddress" disabled />
        </div>
        <div class="col-lg-6">
            <label for="JobTitle" class="form-label">Job Title </label>
            <input type="text" class="form-control" id="mdlJobTitle" value="@Model.User.jobTitle" disabled />
        </div>
        <div class="col-lg-6">
            <label for="FacilityIDN" class="form-label">Facility IDN </label>
            <select class="form-select" id="mdlFacilityDDL">
                @foreach (var x in Model.Facilities)
                {
                    if (x.FacilityName == Model.User.facilityIDN)
                    {
                        <option value=@x.FacilityID selected>@x.FacilityName </option>
                    }
                    else
                    {
                        <option value=@x.FacilityID>@x.FacilityName </option>
                    }
                }
            </select>
        </div>
        <div class="col-lg-6">
            <label for="RequestedDate" class="form-label">Requested Date </label>
            <input type="text" class="form-control" id="mdlRequestedDate" value="@Model.User.requestedDate" disabled />
        </div>
        <div class="col-lg-6">
            <label for="Role" class="form-label">Role </label>
            <select class="form-select" id="mdlRoleDDL">
                @foreach (var x in Model.UserRoles)
                {
                    if (x.RoleID == Model.User.roleID)
                    {
                        <option value=@x.RoleID selected>@x.RoleName </option>
                    }
                    else
                    {
                        <option value=@x.RoleID>@x.RoleName </option>
                    }
                }
            </select>
        </div>

        <div class="col-lg-6">
            <label for="StatusDDL" class="form-label">Request Status </label>
            <select class="form-select" id="mdlStatusDDL">
                @foreach (var x in Model.RequestStatus)
                {
                    if (x.StatusID == Model.User.statusID)
                    {
                        <option value=@x.StatusID selected>@x.StatusName </option>
                    }
                    else
                    {
                        <option value=@x.StatusID>@x.StatusName </option>
                    }
                }
            </select>
        </div>
        <div class="col-lg-12">
            <label for="InternalNote" class="form-label">Internal Note </label>
            <textarea rows="3" draggable="true" maxlength="800" class="form-control" id="mdlInternalNote" value="@Model.InternalNote"></textarea>
        </div>
        <div class="col-lg-12 mt-3">
            <label for="EmailNotification" class="form-label">Send Email Notification </label>
            <input type="checkbox" id="mdlEmailNotification" checked />
        </div>
    </div>
</form>

<div class="row mt-5" style="font-size:small">
    <h5>Previous Activity</h5>
    <div class="col-12 justify-content-lg-center text-center">
        @if (Model.RequestActivity.Count > 0)
        {
            <table id="UserRequestActivityTable" class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th scope="col">Role</th>
                        <th scope="col">Request Status</th>
                        <th scope="col">Email Type</th>
                        <th scope="col">User</th>
                        <th scope="col">Notes</th>
                        <th scope="col">Timestamp</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var act in Model.RequestActivity)
                    {
                        <tr data-id="@act.ActivityID">
                            <td>@act.RoleName</td>
                            <td>@act.RequestStatusName</td>
                            <td>@act.EmailType</td>
                            <td>@act.UserName</td>
                            <td>@act.InternalNote</td>
                            <td>@act.ActivityDate</td>
                        </tr>

                    }
                </tbody>
            </table>
        }
        else
        {
            <span>No Activity Data</span>
        }

    </div>
</div>


